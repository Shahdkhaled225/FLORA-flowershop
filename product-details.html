<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FLORA | Product Details</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap & Icons -->
  <link rel="stylesheet" href="bootstrap-4.0.0-dist/css/bootstrap.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

</head>

<body>

<header>
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
  <!-- Brand icon and name -->
  <a class="navbar-brand d-flex align-items-center" href="index.html">
    <div class="brand-icon">
            <svg viewBox="0 0 24 24">
                <path d="M12 2c-1.5 2-3.5 3-5 3 0 4 2 7 5 8 3-1 5-4 5-8-1.5 0-3.5-1-5-3zM7 14c2 3 5 4 5 8 0-4 3-5 5-8-3 2-7 2-10 0z"/>
            </svg>
        </div>
    <span class="namebrand">FLORA</span>
    </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto align-items-lg-center">
            <li class="nav-item active">
                <a class="nav-link" href="index.html">Home</a>
            </li>


            <!-- Dropdown -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="occasionDropdown"
                   role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Occasions
                </a>
                <div class="dropdown-menu" aria-labelledby="occasionDropdown">
                    <a class="dropdown-item" href="occasion-birthday.html">Birthday</a>
                  <a class="dropdown-item" href="occasion-anniversary.html">Anniversary</a>
                    <a class="dropdown-item" href="occasion-get-well-soon.html">Get Well Soon</a>
                    <a class="dropdown-item" href="occasion-congrats.html">Congratulations</a>
                    <a class="dropdown-item" href="occasion-wedding.html">Wedding</a>
                    <a class="dropdown-item" href="occasion-thank-you.html">Thank You</a>
                    <a class="dropdown-item" href="occasion-iam-sorry.html">I am Sorry</a>
                </div>
            </li>

            <!-- Cart -->
            <li class="nav-item">
              <a class="nav-link position-relative" href="cart.html">
                <i class="bi bi-cart3"></i>
                Cart
              <span class="badge badge-danger position-absolute cart-count"
                    style="top:-5px; right:-5px; font-size: 0.7rem;">0</span>
              </a>
            </li>

            
            <!-- Login -->
            <li class="nav-item ml-lg-3">
              <a class="btn btn-login" href="login.html">
                Log in
              </a>
            </li>

        </ul>
    </div>
</nav>
</header>

<!-- Product Details -->
<main class="mt-5 pt-4">
<section class="py-5">
  <div class="container">
    <div class="row">

      <!-- Image -->
      <div class="col-md-6">
        <img id="productImage" class="product-img" src="" alt="">
      </div>

      <!-- Info -->
      <div class="col-md-6">
        <h2 id="productName"></h2>
        <p class="price" id="productPrice"></p>
        <p id="productDescription" class="text-muted"></p>

        <button id="addBtn" class="btn btn-primary-custom btn-lg">
          Add to Cart
        </button>

        <a href="shop.html" class="btn btn-back ml-2">
          Back to Shop
        </a>
      </div>

    </div>
  </div>
</section>
</main>

<!-- Footer -->
<footer class="bg-light text-center py-4">
  <p class="mb-0">&copy; 2025 FLORA. All rights reserved.</p>
</footer>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="bootstrap-4.0.0-dist/js/shop.js"></script>

<script>
  // Get selected product safely from localStorage
  let product = null;
  try {
    product = JSON.parse(localStorage.getItem("selectedProduct"));
  } catch (e) {
    product = null;
  }

  if (product) {
    document.getElementById("productName").innerText = product.name;
    document.getElementById("productPrice").innerText = product.price + " LE";
    document.getElementById("productDescription").innerText = product.description;
    const imgEl = document.getElementById("productImage");
    imgEl.src = product.image;
    imgEl.alt = product.name;

    document.getElementById("addBtn").onclick = function () {
      addToCart(product.name, product.price, product.image);
    };
  } else {
    // If no product is selected, send the user back to the shop
    window.location.href = "shop.html";
  }
</script>


</body>
</html>
